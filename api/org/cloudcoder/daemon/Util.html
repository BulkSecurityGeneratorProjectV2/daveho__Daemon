<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Jan 11 10:07:58 EST 2018 -->
<title>Util</title>
<meta name="date" content="2018-01-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Util";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":41,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Util.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/cloudcoder/daemon/Upgrade.Callback.html" title="interface in org.cloudcoder.daemon"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/cloudcoder/daemon/Util.html" target="_top">Frames</a></li>
<li><a href="Util.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.cloudcoder.daemon</div>
<h2 title="Class Util" class="title">Class Util</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.cloudcoder.daemon.Util</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Util</span>
extends java.lang.Object</pre>
<div class="block">Utility methods.  Most of these are to perform system-y
 type things like starting processes, checking the status
 of a process, creating FIFOs, etc.  In theory these will
 work on any Unix, but in practice they are probably only
 tested on Linux.
 
 <p> This class also has some general-purpose utility methods
 such as <a href="../../../org/cloudcoder/daemon/Util.html#loadPropertiesFromResource-java.lang.ClassLoader-java.lang.String-"><code>loadPropertiesFromResource(ClassLoader, String)</code></a>
 that might be useful for applications.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>David Hovemeyer</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#MKFIFO_PATH">MKFIFO_PATH</a></span></code>
<div class="block">Path to mkfifo executable, or null if it can't be found.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#PS_PATH">PS_PATH</a></span></code>
<div class="block">Path to ps executable, or null if it can't be found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#SH_PATH">SH_PATH</a></span></code>
<div class="block">Path to sh executable, or null if it can't be found.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#Util--">Util</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#cleanup-java.lang.String-java.lang.Integer-">cleanup</a></span>(java.lang.String&nbsp;instanceName,
       java.lang.Integer&nbsp;pid)</code>
<div class="block">Clean up the pid file and FIFO used by the given instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#deleteFile-java.lang.String-">deleteFile</a></span>(java.lang.String&nbsp;fileName)</code>
<div class="block">Delete a file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#exec-java.lang.String...-">exec</a></span>(java.lang.String...&nbsp;cmd)</code>
<div class="block">Execute a process.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#findCodeBase-java.lang.Class-">findCodeBase</a></span>(java.lang.Class&lt;?&gt;&nbsp;cls)</code>
<div class="block">Return the codebase from which the given class was loaded,
 in a form suitable for using as a component of a classpath.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#findExe-java.lang.String-java.lang.String...-">findExe</a></span>(java.lang.String&nbsp;exeName,
       java.lang.String...&nbsp;path)</code>
<div class="block">Find the executable with the given name by checking the directories
 in the given path in order.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getenvp--">getenvp</a></span>()</code>
<div class="block">Get the current environment variables in a form that can
 be passed as an envp array to <code>Runtime.exec(String[], String[])</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getExternalizedFileName-java.lang.ClassLoader-java.lang.String-">getExternalizedFileName</a></span>(java.lang.ClassLoader&nbsp;clsLoader,
                       java.lang.String&nbsp;resourceName)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">don't call this: call <a href="../../../org/cloudcoder/daemon/Util.html#getExternalizedFileName-java.lang.ClassLoader-java.lang.String-java.io.File-"><code>getExternalizedFileName(ClassLoader, String, File)</code></a> so that
             the temporary directory where the externalized file will be placed is specified
             explicitly</span></div>
</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getExternalizedFileName-java.lang.ClassLoader-java.lang.String-java.io.File-">getExternalizedFileName</a></span>(java.lang.ClassLoader&nbsp;clsLoader,
                       java.lang.String&nbsp;resourceName,
                       java.io.File&nbsp;tempDir)</code>
<div class="block">Take a resource that is loadable from the given classloader
 and make it available as a file in the filesystem.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getFifoName-java.lang.String-java.lang.Integer-">getFifoName</a></span>(java.lang.String&nbsp;instanceName,
           java.lang.Integer&nbsp;pid)</code>
<div class="block">Get the name of the FIFO for given instance name and process id.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getJvmExecutablePath--">getJvmExecutablePath</a></span>()</code>
<div class="block">Get the path of the JVM executable.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getPid--">getPid</a></span>()</code>
<div class="block">Get this process's pid.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#getPidFileName-java.lang.String-">getPidFileName</a></span>(java.lang.String&nbsp;instanceName)</code>
<div class="block">Get the name of the pid file for given instance name.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#hasShellMetaCharacters-java.lang.String-">hasShellMetaCharacters</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Determine whether or not given string contains any shell metacharacters.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#isRunning-java.lang.Integer-">isRunning</a></span>(java.lang.Integer&nbsp;pid)</code>
<div class="block">Is there a process running with the given pid?</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#loadPropertiesFromResource-java.lang.ClassLoader-java.lang.String-">loadPropertiesFromResource</a></span>(java.lang.ClassLoader&nbsp;clsLoader,
                          java.lang.String&nbsp;resourcePath)</code>
<div class="block">Load properties from a resource embedded in the classpath.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#readPid-java.lang.String-">readPid</a></span>(java.lang.String&nbsp;instanceName)</code>
<div class="block">Read the pid file for given instance, returning the pid.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static java.io.BufferedReader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#readProcess-java.lang.String...-">readProcess</a></span>(java.lang.String...&nbsp;cmd)</code>
<div class="block">Read lines of text from a process.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#sendCommand-java.lang.String-java.lang.Integer-java.lang.String-">sendCommand</a></span>(java.lang.String&nbsp;instanceName,
           java.lang.Integer&nbsp;pid,
           java.lang.String&nbsp;command)</code>
<div class="block">Send a command to the daemon process.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#waitForExit-java.lang.Integer-java.lang.Runnable-">waitForExit</a></span>(java.lang.Integer&nbsp;pid,
           java.lang.Runnable&nbsp;callback)</code>
<div class="block">Wait for given process to exit.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/cloudcoder/daemon/Util.html#writePid-java.lang.String-java.lang.Integer-">writePid</a></span>(java.lang.String&nbsp;instanceName,
        java.lang.Integer&nbsp;pid)</code>
<div class="block">Write a pid file for instance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SH_PATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SH_PATH</h4>
<pre>public static final&nbsp;java.lang.String SH_PATH</pre>
<div class="block">Path to sh executable, or null if it can't be found.</div>
</li>
</ul>
<a name="PS_PATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PS_PATH</h4>
<pre>public static final&nbsp;java.lang.String PS_PATH</pre>
<div class="block">Path to ps executable, or null if it can't be found.</div>
</li>
</ul>
<a name="MKFIFO_PATH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MKFIFO_PATH</h4>
<pre>public static final&nbsp;java.lang.String MKFIFO_PATH</pre>
<div class="block">Path to mkfifo executable, or null if it can't be found.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Util--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Util</h4>
<pre>public&nbsp;Util()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findExe-java.lang.String-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findExe</h4>
<pre>public static&nbsp;java.lang.String&nbsp;findExe(java.lang.String&nbsp;exeName,
                                       java.lang.String...&nbsp;path)</pre>
<div class="block">Find the executable with the given name by checking the directories
 in the given path in order.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exeName</code> - an executable name (e.g., "mkfifo")</dd>
<dd><code>path</code> - a path (e.g., "/bin", "/usr/bin")</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>full path to the executable, or null if the executable can't be found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="readPid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readPid</h4>
<pre>public static&nbsp;java.lang.Integer&nbsp;readPid(java.lang.String&nbsp;instanceName)
                                 throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Read the pid file for given instance, returning the pid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - the instance name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the contents of the pid file for this instance, or null if there is no pid file
         (or an invalid pid file)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="writePid-java.lang.String-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writePid</h4>
<pre>public static&nbsp;void&nbsp;writePid(java.lang.String&nbsp;instanceName,
                            java.lang.Integer&nbsp;pid)
                     throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Write a pid file for instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - name of the instance</dd>
<dd><code>pid</code> - the pid</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPidFileName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPidFileName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getPidFileName(java.lang.String&nbsp;instanceName)</pre>
<div class="block">Get the name of the pid file for given instance name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - an instance name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the pid file name for that instance name</dd>
</dl>
</li>
</ul>
<a name="getFifoName-java.lang.String-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFifoName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getFifoName(java.lang.String&nbsp;instanceName,
                                           java.lang.Integer&nbsp;pid)</pre>
<div class="block">Get the name of the FIFO for given instance name and process id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - the instance name</dd>
<dd><code>pid</code> - the pid</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the FIFO name for the isntance name and process id</dd>
</dl>
</li>
</ul>
<a name="isRunning-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public static&nbsp;boolean&nbsp;isRunning(java.lang.Integer&nbsp;pid)
                         throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Is there a process running with the given pid?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - the pid</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a process is running with the given pid,
         false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="readProcess-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readProcess</h4>
<pre>public static&nbsp;java.io.BufferedReader&nbsp;readProcess(java.lang.String...&nbsp;cmd)
                                          throws java.io.IOException</pre>
<div class="block">Read lines of text from a process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - command (array of strings, first is program) to be used to start the process</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>BufferedReader</code> reading from the process</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getenvp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getenvp</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;getenvp()</pre>
<div class="block">Get the current environment variables in a form that can
 be passed as an envp array to <code>Runtime.exec(String[], String[])</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current environment variables</dd>
</dl>
</li>
</ul>
<a name="findCodeBase-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findCodeBase</h4>
<pre>public static&nbsp;java.lang.String&nbsp;findCodeBase(java.lang.Class&lt;?&gt;&nbsp;cls)</pre>
<div class="block">Return the codebase from which the given class was loaded,
 in a form suitable for using as a component of a classpath.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cls</code> - the class to determine the codebase of</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the class's codebase, in a form suitable for use in a classpath</dd>
</dl>
</li>
</ul>
<a name="deleteFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFile</h4>
<pre>public static&nbsp;void&nbsp;deleteFile(java.lang.String&nbsp;fileName)</pre>
<div class="block">Delete a file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - name of the file to delete</dd>
</dl>
</li>
</ul>
<a name="sendCommand-java.lang.String-java.lang.Integer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCommand</h4>
<pre>public static&nbsp;void&nbsp;sendCommand(java.lang.String&nbsp;instanceName,
                               java.lang.Integer&nbsp;pid,
                               java.lang.String&nbsp;command)
                        throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Send a command to the daemon process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - the instance name</dd>
<dd><code>pid</code> - the pid of the daemon process</dd>
<dd><code>command</code> - the command to send</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="exec-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>public static&nbsp;int&nbsp;exec(java.lang.String...&nbsp;cmd)
                throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Execute a process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - the command (program and arguments)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the process's exit code</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPid</h4>
<pre>public static&nbsp;java.lang.Integer&nbsp;getPid()
                                throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Get this process's pid.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this process's pid</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>http://blog.igorminar.com/2007/03/how-java-application-can-discover-its.html</code></dd>
</dl>
</li>
</ul>
<a name="waitForExit-java.lang.Integer-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForExit</h4>
<pre>public static&nbsp;void&nbsp;waitForExit(java.lang.Integer&nbsp;pid,
                               java.lang.Runnable&nbsp;callback)
                        throws <a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></pre>
<div class="block">Wait for given process to exit.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - the pid of the process to wait for</dd>
<dd><code>callback</code> - callback whose run() method is called periodically (once per second)
                 if the process is still running</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/cloudcoder/daemon/DaemonException.html" title="class in org.cloudcoder.daemon">DaemonException</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanup-java.lang.String-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>public static&nbsp;void&nbsp;cleanup(java.lang.String&nbsp;instanceName,
                           java.lang.Integer&nbsp;pid)</pre>
<div class="block">Clean up the pid file and FIFO used by the given instance.
 The instance should have exited before this is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instanceName</code> - the instance name</dd>
<dd><code>pid</code> - the pid of the exited instance</dd>
</dl>
</li>
</ul>
<a name="hasShellMetaCharacters-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasShellMetaCharacters</h4>
<pre>public static&nbsp;boolean&nbsp;hasShellMetaCharacters(java.lang.String&nbsp;s)</pre>
<div class="block">Determine whether or not given string contains any shell metacharacters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the string contains shell metacharacters,
         false otherwise</dd>
</dl>
</li>
</ul>
<a name="getJvmExecutablePath--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJvmExecutablePath</h4>
<pre>public static&nbsp;java.lang.Object&nbsp;getJvmExecutablePath()</pre>
<div class="block">Get the path of the JVM executable.
 Tries to identify the same JVM executable as the one
 that is executing currently.  Otherwise, just returns
 "java".  Note that the full JVM executable path will 
 (probably) only be found on Linux/Unix for JRE/JDK
 installations that use the standard directory layout.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>path to JVM executable</dd>
</dl>
</li>
</ul>
<a name="loadPropertiesFromResource-java.lang.ClassLoader-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPropertiesFromResource</h4>
<pre>public static&nbsp;java.util.Properties&nbsp;loadPropertiesFromResource(java.lang.ClassLoader&nbsp;clsLoader,
                                                              java.lang.String&nbsp;resourcePath)</pre>
<div class="block">Load properties from a resource embedded in the classpath.
 Note that an IllegalStateException is thrown if the properties
 cannot be loaded from the resource: therefore, this
 method should probably only be used to load properties that are
 guaranteed to be present.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clsLoader</code> - the ClassLoader to load the resource from</dd>
<dd><code>resourcePath</code> - the resource from which the properties should be loaded</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Properties loaded from the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the properties cannot be loaded</dd>
</dl>
</li>
</ul>
<a name="getExternalizedFileName-java.lang.ClassLoader-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExternalizedFileName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getExternalizedFileName(java.lang.ClassLoader&nbsp;clsLoader,
                                                       java.lang.String&nbsp;resourceName)
                                                throws java.io.IOException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">don't call this: call <a href="../../../org/cloudcoder/daemon/Util.html#getExternalizedFileName-java.lang.ClassLoader-java.lang.String-java.io.File-"><code>getExternalizedFileName(ClassLoader, String, File)</code></a> so that
             the temporary directory where the externalized file will be placed is specified
             explicitly</span></div>
<div class="block">Take a resource that is loadable from the given classloader
 and make it available as a file in the filesystem.
 If the app is running from a jarfile, loaded resources aren't
 directly available as files (the way they would be if the
 app is running out of a directory containing the app's class files.)
 This method will copy an internal resource to an external
 file in the system temporary directory if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clsLoader</code> - the ClassLoader containing the resource</dd>
<dd><code>resourceName</code> - the name of the resource to externalize</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filename of the externalized resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the resource can't be externalized</dd>
</dl>
</li>
</ul>
<a name="getExternalizedFileName-java.lang.ClassLoader-java.lang.String-java.io.File-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getExternalizedFileName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getExternalizedFileName(java.lang.ClassLoader&nbsp;clsLoader,
                                                       java.lang.String&nbsp;resourceName,
                                                       java.io.File&nbsp;tempDir)
                                                throws java.io.IOException</pre>
<div class="block">Take a resource that is loadable from the given classloader
 and make it available as a file in the filesystem.
 If the app is running from a jarfile, loaded resources aren't
 directly available as files (the way they would be if the
 app is running out of a directory containing the app's class files.)
 This method will copy an internal resource to an external
 file in the specified if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clsLoader</code> - the ClassLoader containing the resource</dd>
<dd><code>resourceName</code> - the name of the resource to externalize</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filename of the externalized resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the resource can't be externalized</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Util.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/cloudcoder/daemon/Upgrade.Callback.html" title="interface in org.cloudcoder.daemon"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/cloudcoder/daemon/Util.html" target="_top">Frames</a></li>
<li><a href="Util.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
